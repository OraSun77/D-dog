<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <title>倒计时器</title>
    <script>
        var interval;
        var startTime;
        var selectedNumber;

        function startTimer() {
            var timerDisplay = document.getElementById("timer");
            var confirmButton = document.getElementById("confirm");

            // 随机选择一个数字并显示
            selectedNumber = Math.floor(Math.random() * 20) + 1;
            document.getElementById("selectedNumber").innerText = selectedNumber;

            // 设置倒计时器计时间隔为10毫秒
            var countdown = 20000; // 20秒
            startTime = new Date().getTime();
            interval = setInterval(function () {
                var elapsedTime = new Date().getTime() - startTime;
                var remainingTime = countdown - elapsedTime;

                // 显示剩余时间
                timerDisplay.innerText = (remainingTime / 1000).toFixed(3);

                if (remainingTime <= 0) {
                    // 时间到，停止计时器
                    clearInterval(interval);
                    timerDisplay.innerText = "0.00";
                    confirmButton.disabled = true;
                }
            }, 10);
        }

        function pauseTimer() {
            clearInterval(interval);

            var timerDisplay = document.getElementById("timer");
            var confirmButton = document.getElementById("confirm");

            // 计算绝对差值并显示
            var diff = Math.abs(parseFloat(timerDisplay.innerText) - selectedNumber);
            document.getElementById("difference").innerText = diff.toFixed(3);

            confirmButton.disabled = true;
            timerDisplay.disabled = true;
        }
    </script>
</head>
<body>
<h1>倒计时器</h1>

<p>随机选择的数字：<span id="selectedNumber"></span></p>
<p>倒计时时间（秒）：<span id="timer">20.000</span></p>

<button onclick="startTimer()">开始</button>
<button id="confirm" onclick="pauseTimer()">确认</button>

<p>数值与选中数值的绝对差值：<span id="difference"></span></p>
</body>
</html>